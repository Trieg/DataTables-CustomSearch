(function(p,q,n){function l(g,l){function m(b,c){if(!(this instanceof m))throw"Warning: CustomSearch must be initialised with the keyword 'new'";if(!g.m.O.T("1.10.0"))throw"Warning: CustomSearch requires DataTables 1.10 or greater";this.c={h:[],g:"",t:!1};this.e={f:null,v:null};this.i={table:null};this.J(b,c);return this}m.prototype={_fnInit:function(b,c){var e=this,d,h,a,f=[],k=[];this.e.f=(new l.C(b)).Y()[0];this.e.v=c||{};this.i.table=g(this.e.f.V);g.extend(!0,this.c,m.P,c);!0===this.c.t&&g("#"+
this.e.f.A+"_filter").U();for(d=0;d<this.c.h.length;d++){a=this.c.h[d];if(!isNaN(a)||g.isArray(a))a={a:a};a.field=this.D(a.field);a.b=this.H(a.b);a.id=this.F(d,a.b,a.field);a.label=this.G(a.label,a.b,a.a);a.type=this.I(a.type,a.a);if(0===a.b.length)k.push(a.id);else for(var n in a.id)k.push(a.id[n]);if(""===a.field){switch(a.type){case "string":a.field='<label for="'+a.id+'">'+a.label+'</label><input type="text" id="'+a.id+'">';break;case "number":case "currency":case "num":case "num-fmt":0===a.b.length?
a.field='<label for="'+a.id+'">'+a.label+'</label><input type="number" id="'+a.id+'">':(this.d("min",a.b)&&(a.field+='<label for="'+a.id.min+'">'+a.label.min+'</label><input type="number" id="'+a.id.min+'">'),this.d("max",a.b)&&(a.field+='<label for="'+a.id.max+'">'+a.label.max+'</label><input type="number" id="'+a.id.max+'">'));break;case "select":a.field='<label for="'+a.id+'">'+a.label+'</label><select id="'+a.id+'">';a.options&&0!==a.options.length?a.options.unshift({value:"",text:"All"}):(a.options=
[{value:"",text:"All"}],g.R(this.e.f.M,function(b,c){-1===g.u(c.q[a.a],a.options)&&a.options.push(c.q[a.a])}));for(h=0;h<a.options.length;h++)a.field="object"===typeof a.options[h]?a.field+('<option value="'+a.options[h].value+'">'+a.options[h].text+"</option>"):a.field+('<option value="'+a.options[h]+'">'+a.options[h]+"</option>");a.field+="</select>";break;case "date":0===a.b.length?a.field='<label for="'+a.id+'">'+a.label+'</label><input type="date" id="'+a.id+'">':(this.d("min",a.b)&&(a.field+=
'<label for="'+a.id.min+'">'+a.label.min+'</label><input type="date" id="'+a.id.min+'">'),this.d("max",a.b)&&(a.field+='<label for="'+a.id.max+'">'+a.label.max+'</label><input type="date" id="'+a.id.max+'">'));break;default:throw"Warning: CustomSearch init failed due to invalid field type given - "+a.type;}f.push(a.field)}this.c.h[d]=a}this.c.g||(this.c.g=this.e.f.w);0<f.length&&(this.c.g==this.e.f.w?g(this.c.g).W("<div>"+f.join("")+"</div>"):g(this.c.g).append("<div>"+f.join("")+"</div>"));g("#"+
k.join(",#")).N(function(){e.i.table.p().Q()});this.i.table.l().p.S.search.push(function(a,b,c){return e.K(a,b,c)})},_fnSearch:function(b,c){var e,d,h,a,f,k;for(e=0;e<this.c.h.length;e++)if(f=this.c.h[e],0===f.b.length)if(a=g("#"+f.id).n(),g.isArray(f.a)){h=!1;k=[];for(d=0;d<f.a.length;d++)k.push(c[f.a[d]]),this.j(c[f.a[d]],a)&&(h=!0);if(!1===h&&!this.j(k.join(" "),a))return!1}else{if(!this.j(c[f.a],a))return!1}else if(a={min:this.d("min",f.b)?g("#"+f.id.min).n():"",max:this.d("max",f.b)?g("#"+f.id.max).n():
""},g.isArray(f.a)){h=!1;for(d=0;d<f.a.length;d++)this.r(c[f.a[d]],a)&&(h=!0);if(!1===h)return!1}else if(!this.r(c[f.a],a))return!1;return!0},_fnSearchString:function(b,c){return 0<=b.toLowerCase().search(c.toLowerCase())},_fnSearchNumberRange:function(b,c){b=parseInt(b.replace(/[^\d]/i,""),10);c.min=parseInt(c.min,10);c.max=parseInt(c.max,10);return isNaN(b)?!1:isNaN(c.min)&&isNaN(c.max)||isNaN(c.min)&&c.max>=b||c.min<=b&&isNaN(c.max)||c.min<=b&&c.max>=b},_fnGetRange:function(b){var c=[],e=!1,d=
!1;"string"===typeof b&&(c=b.split(","));typeof b===Array&&(e=this.d("min",b),d=this.d("max",b),c=e&&d?["min","max"]:e&&!d?["min"]:!e&&d?["max"]:[]);b===n&&(c=[]);!0===b&&(c=["min","max"]);return c},_fnGetField:function(b){return b?g(b):""},_fnGetId:function(b,c,e){var d=this.e.f.A+"_"+b;0===c.length?b=d:(b={},this.d("min",c)&&(b.min=d+"_min"),this.d("max",c)&&(b.max=d+"_max"));e&&((c=e.s("id"))?b=c:e.s("id",b));return b},_fnGetLabel:function(b,c,e){var d="";if(!b){b=[];if(g.isArray(e))for(d=0;d<
e.length;d++)b.push(this.e.f.k[e[d]].B);else b.push(this.e.f.k[e].B);b=b.join(" & ")}0===c.length?d=b:(d={},this.d("min",c)&&(d.min="Min "+b),this.d("max",c)&&(d.max="Max "+b));return d},_fnGetType:function(b,c){var e=b;e||(e=g.isArray(c)?"string":this.e.f.k[c].X);return e.toLowerCase()},_fnHasRange:function(b,c){return 0<=g.u(b,c)}};return l.o=m}"function"===typeof define&&define.L?define("datatables-customsearch",["jquery","datatables"],l):jQuery&&!jQuery.m.l.o&&l(jQuery,jQuery.m.l)})(window,document);
